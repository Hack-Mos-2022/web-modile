<template>
	<div class="article-info">
		<div class="article-info__ticket">
			<div v-if="link">
				<a :href="link" class="b-btn b-btn--green" target="_blank">
					<svg fill="none" height="14" width="20" xmlns="http://www.w3.org/2000/svg">
						<path d="M7 5a1.00003 1.00003 0 0 0-1 1v2a1.00003 1.00003 0 0 0 1 1 1.00003 1.00003 0 0 0 1-1V6a1.00003 1.00003 0 0 0-1-1Zm12 1a.99997.99997 0 0 0 1-1V1c0-.26522-.1054-.51957-.2929-.7071A.99995.99995 0 0 0 19 0H1a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1 1.00003 1.00003 0 0 1 1 1 1.00003 1.00003 0 0 1-1 1 1.00003 1.00003 0 0 0-1 1v4c0 .2652.10536.5196.2929.7071A1.0001 1.0001 0 0 0 1 14h18c.2652 0 .5196-.1054.7071-.2929A1.0001 1.0001 0 0 0 20 13V9a.99997.99997 0 0 0-1-1 .99997.99997 0 0 1-1-1 .99997.99997 0 0 1 1-1Zm-1-1.82a3.00027 3.00027 0 0 0-1.4332 1.09816 3.00014 3.00014 0 0 0 0 3.44368c.3537.50453.854.88796 1.4332 1.09816V12H8a.99997.99997 0 0 0-1-1 .99997.99997 0 0 0-1 1H2V9.82A3.00002 3.00002 0 0 0 3.97648 7 3.00001 3.00001 0 0 0 2 4.18V2h4a1.00003 1.00003 0 0 0 1 1 1.00003 1.00003 0 0 0 1-1h10v2.18Z" fill="currentColor  " />
					</svg>
					<span>Купить билеты</span>
				</a>
			</div>
			<div v-else>
				<div class="b-btn b-btn--green">
					<svg fill="none" height="14" width="20" xmlns="http://www.w3.org/2000/svg">
						<path d="M7 5a1.00003 1.00003 0 0 0-1 1v2a1.00003 1.00003 0 0 0 1 1 1.00003 1.00003 0 0 0 1-1V6a1.00003 1.00003 0 0 0-1-1Zm12 1a.99997.99997 0 0 0 1-1V1c0-.26522-.1054-.51957-.2929-.7071A.99995.99995 0 0 0 19 0H1a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1 1.00003 1.00003 0 0 1 1 1 1.00003 1.00003 0 0 1-1 1 1.00003 1.00003 0 0 0-1 1v4c0 .2652.10536.5196.2929.7071A1.0001 1.0001 0 0 0 1 14h18c.2652 0 .5196-.1054.7071-.2929A1.0001 1.0001 0 0 0 20 13V9a.99997.99997 0 0 0-1-1 .99997.99997 0 0 1-1-1 .99997.99997 0 0 1 1-1Zm-1-1.82a3.00027 3.00027 0 0 0-1.4332 1.09816 3.00014 3.00014 0 0 0 0 3.44368c.3537.50453.854.88796 1.4332 1.09816V12H8a.99997.99997 0 0 0-1-1 .99997.99997 0 0 0-1 1H2V9.82A3.00002 3.00002 0 0 0 3.97648 7 3.00001 3.00001 0 0 0 2 4.18V2h4a1.00003 1.00003 0 0 0 1 1 1.00003 1.00003 0 0 0 1-1h10v2.18Z" fill="currentColor  " />
					</svg>
					<span>Бесплатно</span>
				</div>
			</div>
		</div>
		<div
			class="article-info__share"
			x-data="share()"
		>
			<button
				class="b-btn b-btn--black"
				type="button"
				@click.prevent="showShare()"
			>
				<svg fill="none" height="19" width="19" xmlns="http://www.w3.org/2000/svg">
					<path d="M3.16602 9.5v6.3333c0 .42.16681.8227.46374 1.1196.29694.297.69966.4638 1.11959.4638h9.49995c.42 0 .8227-.1668 1.1196-.4638.297-.2969.4638-.6996.4638-1.1196V9.5m-3.1654-4.75033L9.50065 1.58301 6.33398 4.74967M9.5 1.58301V11.8747" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
				</svg>
			</button>

			<NuxtLink class="b-btn b-btn--black" to="/mobile-app">
				<svg fill="none" height="23" width="23" xmlns="http://www.w3.org/2000/svg">
					<path d="M19.3191 4.79199a6.02783 6.02783 0 0 0-3.7966-1.75263 6.02807 6.02807 0 0 0-4.0234 1.13929 6.00867 6.00867 0 0 0-4.24739-1.15092 6.00876 6.00876 0 0 0-5.34282 6.20711 6.00898 6.00898 0 0 0 1.77023 4.02886l5.95125 5.9608a2.66431 2.66431 0 0 0 1.86873.7653 2.6646 2.6646 0 0 0 1.8688-.7653l5.9512-5.9608c1.119-1.1258 1.747-2.6486 1.747-4.23588 0-1.58726-.628-3.11005-1.747-4.23583Zm-1.3512 7.14921-5.9513 5.9512a.72715.72715 0 0 1-.2371.1597.72722.72722 0 0 1-.2804.0561.7271.7271 0 0 1-.2803-.0561.72651.72651 0 0 1-.2372-.1597l-5.95123-5.98a4.11124 4.11124 0 0 1 0-5.75 4.09212 4.09212 0 0 1 5.75003 0 .95906.95906 0 0 0 .3118.20978.95874.95874 0 0 0 .3686.0737.95842.95842 0 0 0 .6804-.28348 4.09224 4.09224 0 0 1 2.875-1.18012c1.0762 0 2.1091.42399 2.875 1.18012a4.11111 4.11111 0 0 1 1.2109 2.85937c.0143 1.07473-.3928 2.11243-1.1342 2.89063v.0288Z" fill="currentColor" />
				</svg>
			</NuxtLink>
		</div>
	</div>
</template>

<script>
export default {
	name  : 'ItemInfo',
	props : {
		link : {
			type    : String,
			default : ''
		},
		ticket : {
			type    : String,
			default : ''
		}
	},
	methods : {
		showShare () {
			if (navigator.share) {
				navigator.share({
					title : document.title,
					url   : window.location.href
				}).catch((err) => {
					// eslint-disable-next-line no-console
					console.log('Error while using Web share API:' + err)
				})
			}
		}
	}
}
</script>

<style scoped>

</style>
